<div class="page-header">
  <h4>Requests</h4>
</div>

<table class="table table-striped table-hover" st-table="requests" st-safe-src="stSafeRequests">
  <thead>
    <tr>
      <th width="5%" class="text-center"><a href="#" title="Show/Hide filters" data-toggle="tooltip" ng-click="toggleInlineFilters()"><i class="fa fa-filter"></i></a></th>
      <th st-sort="startDate" st-skip-natural="true" >{{'service.request.startDate' | translate}}</th>
      <th st-sort="account.name" st-skip-natural="true" >{{'service.request.account.name' | translate}}</th>
      <th st-sort="description" st-skip-natural="true" st-sort-default="description">{{'service.request.description' | translate}}</th>
    </tr>
    <tr class="filters" ng-show="showInlineFilters">
      <th></th>
      <th><input st-search="'startDate'" st-delay="100" class="inline-table-filter input-sm" placeholder="Search for start date"></th>
      <th><input st-search="'account.name'" st-delay="100" class="inline-table-filter input-sm" placeholder="Search for account"></th>
      <th><input st-search="'description'" st-delay="100" class="inline-table-filter input-sm" placeholder="Search for description"></th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="request in requests | filter:search:strict">
      <td>
        <a ng-href="/requests/{{request.id}}/edit"><i class="fa fa-edit"></i></a>
        &nbsp;
        <a href="#" ng-click="delete(request)"><i class="fa fa-trash-o"></i></a>
      </td>
      <td>{{request.startDate | date: 'dd/MM/yyyy' }}</td>
      <td>{{request.account.name}}</td>
      <td><a ng-href="/service/requests/{{request._id}}">{{request.description}}</a></td>
    </tr>
    <tr ng-repeat="i in times(5 - requests.length) track by $index">
      <td colspan="4">&nbsp;</td>
    </tr>
  </tbody>
  <tfoot>
    <tr>
      <td colspan="4" class="text-center">
        <div st-pagination="" st-items-by-page="5" st-displayed-pages="5" st-template="views/bootstrap/pagination.html"></div>
      </td>
    </tr>
  </tfoot>
</table>

