<panel page-header="true" lazy="true">
  <panel-heading title="{{'action.search' | translate}}"></panel-heading>
  <panel-body>
    <form class="form-horizontal">
      <div class="form-group">
        <label class="col-sm-3 control-label" for="accountId">{{'employee.lastname' | translate}}</label>
        <div class="col-sm-8">
          <input id="lastname" name="lastname" type="text" class="form-control col-sm-3" ng-model="query.lastname" />
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label" for="accountId">{{'address.street' | translate}}</label>
        <div class="col-sm-8">
          <input id="street" name="street" type="text" class="form-control col-sm-3" ng-model="query.street" />
        </div>
      </div>
      <div class="form-group">
        <label class="col-sm-3 control-label" for="accountId">{{'address.city' | translate}}</label>
        <div class="col-sm-8">
          <input id="street" name="city" type="text" class="form-control col-sm-3" ng-model="query.city" />
        </div>
      </div>
      <div class="form-group">
        <div class="col-sm-11">
          <div class="text-right">
            <button type="submit" class="btn btn-default" ng-click="search()" tooltip="{{'action.search' | translate}}"><i class="fa fa-search"></i></button>
            <button class="btn btn-default" ng-click="clearForm()" tooltip="{{'action.clear' | translate}}"><i class="fa fa-remove"></i></button>
          </div>
        </div>
      </div>
    </form>
  </panel-body>
</panel>

<panel>
  <panel-body fill="true">
    <table class="table table-striped table-hover" st-table="employees" st-safe-src="stSafeEmployees" st-filterable>
      <thead>
        <tr>
          <th class="text-center"><a href="#" tooltip="{{'action.toggleFilters' | translate}}" ng-click="toggleFilters()"><i class="fa fa-filter"></i></a></th>
          <th st-sort="'firstname'" st-skip-natural="true" >{{'employee.firstname' | translate}}</th>
          <th st-sort="'lastname'" st-skip-natural="true" st-sort-default="lastname">{{'employee.lastname' | translate}}</th>
          <th>{{'address.street' | translate}}</th>
          <th>{{'address.city' | translate}}</th>
        </tr>
        <tr class="filters" ng-show="filtersOn">
          <th></th>
          <th><input st-search="firstname" st-delay="100" class="inline-table-filter input-sm" placeholder="{{'common.filterFor' | translate}} {{'employee.firstname' | translate}}"></th>
          <th><input st-search="lastname" st-delay="100" class="inline-table-filter input-sm" placeholder="{{'common.filterFor' | translate}} {{'employee.lastname' | translate}}"></th>
          <th><input st-search="address.street" st-delay="100" class="inline-table-filter input-sm" placeholder="{{'common.filterFor' | translate}} {{'address.street' | translate}}"></th>
          <th><input st-search="address.city" st-delay="100" class="inline-table-filter input-sm" placeholder="{{'common.filterFor' | translate}} {{'address.city' | translate}}"></th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="employee in employees">
          <td width="80px">
            <a ng-href="/employees/{{employee._id}}" tooltip="{{'action.display' | translate}}"><i class="fa fa-search"></i></a>
            &nbsp;
            <a ng-href="/employees/{{employee.id}}/edit" tooltip="{{'action.edit' | translate}}"><i class="fa fa-edit"></i></a>
            &nbsp;
            <a href="#" ng-click="delete(employee)" tooltip="{{'action.delete' | translate}}"><i class="fa fa-trash-o"></i></a>
          </td>
          <td>{{employee.firstname}}</td>
          <td>{{employee.lastname}}</td>
          <td>{{employee.address.street}}</td>
          <td>{{employee.address.city}}</td>
        </tr>
        <!-- <tr ng-repeat="i in Utils.times(itemsByPage - employees.length) track by $index">
          <td colspan="3">&nbsp;</td>
        </tr> -->
      </tbody>
      <tfoot>
        <tr>
          <td colspan="5" class="text-center">
            <div st-pagination="" st-items-by-page="itemsByPage" st-displayed-pages="5" st-template="views/bootstrap/pagination.html"></div>&nbsp;
          </td>
        </tr>
      </tfoot>
    </table>
  </panel-body>
</panel>