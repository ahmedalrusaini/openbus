<div class="page-content no-sidebar">
  <div class="page-header">
    <h4>{{'user.change_password' | translate}}</h4>
  </div>
  <form name="pwdForm" class="form-horizontal" novalidate>
    <div class="form-group" ng-class="{ 'has-error': (pwdForm.password.$invalid && pwdForm.$submitted) || (pwdForm.new_password.$invalid && pwdForm.$submitted) }">
      <label class="col-sm-4 control-label" for="password">{{'user.password' | translate}}</label>
      <div class="col-sm-4">
        <input id="password" name="password" type="password" class="form-control" ng-model="user.password" ng-required="!user.id" />
        <div ng-messages="pwdForm.password.$error" ng-show="pwdForm.password.$invalid && pwdForm.$submitted" class="help-block">
          <div ng-message="required">Required</div>
        </div>
      </div>
    </div>
    <div class="form-group" 
         ng-class="{ 'has-error': (pwdForm.new_password.$invalid && pwdForm.$submitted) || (pwdForm.password_confirmation.$invalid && pwdForm.$submitted) }">
      <label class="col-sm-4 control-label" for="password">{{'user.newPassword' | translate}}</label>
      <div class="col-sm-4">
        <input id="new_password" name="new_password" type="password" class="form-control" ng-model="user.new_password" ng-required="!user.id" />
        <div ng-messages="pwdForm.new_password.$error" ng-show="pwdForm.new_password.$invalid && pwdForm.$submitted" class="help-block">
          <div ng-message="required">Required</div>
          <div ng-message="nochange">Old and new password are the same</div>
        </div>
      </div>
    </div>
    <div class="form-group" ng-class="{ 'has-error': pwdForm.password_confirmation.$invalid && pwdForm.$submitted }">
      <label class="col-sm-4 control-label" for="password">{{'user.password_confirmation' | translate}}</label>
      <div class="col-sm-4">
        <input id="password_confirmation" name="password_confirmation" type="password" class="form-control" ng-model="user.password_confirmation" ng-required="!user.id" />
        <div ng-messages="pwdForm.password_confirmation.$error" ng-show="pwdForm.password_confirmation.$invalid && pwdForm.$submitted" class="help-block">
          <div ng-message="required">Required</div>
          <div ng-message="match">Password does not match</div>
        </div>
      </div>
    </div>
    <div class="form-group">
      <div class="col-sm-4 col-sm-offset-4">
        <button id="updateBtn" class="btn btn-success btn-block" ng-click="changePassword(pwdForm)">Save</button>
      </div>
    </div>

  </form>
</div>